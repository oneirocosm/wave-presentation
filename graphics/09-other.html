<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGPU</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <div class="layout">
        <div class="main-content">
            <h2 class="center">Other</h2>
            <br>
            <br>
            <br>
            <br>
            <br>
            <h3 class="statement-rep transparent">Plenty of other useful things can be sent to the GPU</h3>
            <br>
            <br>
            <ul>
                <h3 class="elem1-rep transparent"><li>The current cycle count</li></h3>
                <h3 class="elem2-rep transparent"><li>The width and height of the screen</li></h3>
                <h3 class="elem3-rep transparent"><li>Any configurables on the webpage (not implemented yet)</li></h3>
            </ul>
        </div>
        <div class="camera">
        </div>
        <div class="sub-content">
        </div>
    </div>
</body>
</html>

<style>
    .statement-rep, .elem1-rep, .elem2-rep, .elem3-rep {
        transition: opacity 1s;
    }
</style>

<script>
    const stepReplicant = nodecg.Replicant("09-list", {devaultValue: 0});
    NodeCG.waitForReplicants(stepReplicant).then(() => {
        setupRadioReplicant(stepReplicant, [".statement-rep", ".elem1-rep", ".elem2-rep", ".elem3-rep"]);
    });

    function setupRadioReplicant(replicant, classNames) {
        replicant.on('change', (newValue, oldValue) => {
            console.log(newValue);
            const changedElems = document.querySelectorAll(classNames.join(", "));
            classNames.forEach((className, i) => {
                const elems = document.querySelectorAll(className);
                if (newValue > i) {
                    elems.forEach((elem) => {
                        elem.classList.remove("transparent");
                    });
                } else {
                    elems.forEach((elem) => {
                        elem.classList.add("transparent");
                    });
                }
            });
        });
    }
</script>